{"version":3,"file":"parse5-utils.js","sourceRoot":"","sources":["../../src/lib/util/parse5-utils.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAGH,OAAO,EAAC,QAAQ,EAAE,WAAW,EAAE,aAAa,EAAC,MAAM,eAAe,CAAC;AAEnE,MAAM,UAAU,sBAAsB,CAAC,IAAU;IAC/C,MAAM,gBAAgB,GAAc,EAAE,CAAC;IAEvC,QAAQ,CAAC,IAAI,EAAE;QACb,UAAU,EAAE,CAAC,IAAI,EAAE,EAAE;YACnB,IACE,aAAa,CAAC,IAAI,CAAC;gBACnB,IAAI,CAAC,QAAQ;gBACb,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,qBAAqB,CAAC;gBAC1C,CAAC,IAAI,CAAC,kBAAkB,EACxB;gBACA,gBAAgB,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;aAChC;QACH,CAAC;KACF,CAAC,CAAC;IAEH,KAAK,MAAM,EAAE,IAAI,gBAAgB,EAAE;QACjC,WAAW,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,UAAU,CAAC,CAAC;KACnC;AACH,CAAC","sourcesContent":["/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\nimport {Node, Element} from 'parse5/dist/tree-adapters/default.js';\nimport {traverse, replaceWith, isElementNode} from '@parse5/tools';\n\nexport function removeFakeRootElements(node: Node) {\n  const fakeRootElements: Element[] = [];\n\n  traverse(node, {\n    'pre:node': (node) => {\n      if (\n        isElementNode(node) &&\n        node.nodeName &&\n        node.nodeName.match(/^(html|head|body)$/i) &&\n        !node.sourceCodeLocation\n      ) {\n        fakeRootElements.unshift(node);\n      }\n    },\n  });\n\n  for (const el of fakeRootElements) {\n    replaceWith(el, ...el.childNodes);\n  }\n}\n"]}